import 'package:flutter/cupertino.dart';import 'package:shiftapp/presentation/adminFeatures/vehicles/presentation/violations/view/pages/vehicle/vehicle_violations_screen.dart';import 'package:shiftapp/presentation/shared/components/base_widget_bloc.dart';import '../../../../../../../../core/services/routes.dart';import '../../../../../../../presentationUser/common/common_state.dart';import '../../../../../../../presentationUser/salarydefinitionrequest/requests/widgets/title_and_add_new_request.dart';import '../../../../../../../shared/components/text_field/text_field_search.dart';import '../../../../../domain/entities/vehicle_violation.dart';import '../../bloc/vehicle_violations_cubit.dart';class VehicleViolationsPage extends BaseBlocWidget<    Initialized<List<ContractViolation>>, VehiclesCubit> {  VehicleViolationsPage({Key? key}) : super(key: key);  @override  String? title(BuildContext context) {    return strings.violations;  }  @override  loadInitialData(BuildContext context) {    bloc.fetchVehicleViolations();  }  @override  bool detectRequiredTasks() {    return false;  }  TextEditingController controller = TextEditingController();  @override  Widget build(BuildContext context) {    return mainFrame(      body: Column(        children: [          TitleAndAddNewRequest(            title: strings.add_violation,            textButton: strings.add_violation,            onTap: () async {              final isRefresh = await Navigator.pushNamed(                  context, Routes.addViolationVehiclePage);              if (isRefresh == true) {                loadInitialData(context);              }            },          ),          Padding(            padding: const EdgeInsets.all(8.0),            child: TextFieldSearch(              controller: controller,              onChanged: (value) {                bloc.searchByText(value);              },            ),          ),          Expanded(child: buildConsumer(context)),        ],      ),    );  }  @override  Widget buildWidget(      BuildContext context, Initialized<List<ContractViolation>> state) {    return VehicleViolationsScreen(      data: state.data ?? [],      onRefresh: () {        loadInitialData(context);      },    );  }  @override  void onSuccessDismissed() {    loadInitialData(context);  }}